{% extends 'base.html' %}
{% load static %}
{% block content %}

<style>
.edit-shell {
    max-width: 900px;
    margin: 24px auto;
    padding: 26px 32px 32px;
    border-radius: 28px;
    background: #ffffff;
    box-shadow: 0 20px 60px rgba(15,23,42,0.16);
}
.edit-title {
    font-size: 1.6rem;
    font-weight: 800;
    color: #111827;
    margin-bottom: 4px;
}
.edit-sub {
    font-size: 0.9rem;
    color: #6b7280;
    margin-bottom: 18px;
}
.edit-grid {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 14px 22px;
}
.edit-label {
    font-size: 0.78rem;
    text-transform: uppercase;
    letter-spacing: .08em;
    color: #9ca3af;
    margin-bottom: 4px;
}
.edit-input, .edit-textarea {
    width: 100%;
    border-radius: 10px;
    border: 1px solid #d1d5db;
    padding: 7px 10px;
    font-size: 0.9rem;
}
.edit-textarea {
    resize: vertical;
}
.edit-photo-wrap {
    display: flex;
    align-items: center;
    gap: 14px;
    margin-top: 12px;
}
.edit-avatar {
    width: 72px;
    height: 72px;
    border-radius: 999px;
    overflow: hidden;
    background: #8b5cf6;
    display: flex;
    align-items: center;
    justify-content: center;
}
.edit-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}
@media (max-width: 768px) {
    .edit-shell {
        margin: 16px 10px;
        padding: 20px 16px 22px;
        border-radius: 22px;
    }
    .edit-grid {
        grid-template-columns: 1fr;
    }
}
</style>

<div class="edit-shell">
    <h2 class="edit-title">Edit Tenant</h2>
    <p class="edit-sub">Update tenant information. Changes will reflect everywhere.</p>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="edit-grid">
            <div>
                <div class="edit-label">Name</div>
                <input class="edit-input" type="text" name="name"
                       value="{{ tenant.name }}" required>
            </div>
            <div>
                <div class="edit-label">Room Number</div>
                <input class="edit-input" type="text" name="room_no"
                       value="{{ tenant.room_no }}" required>
            </div>

            <div>
                <div class="edit-label">Mobile 1</div>
                <input class="edit-input" type="text" name="mobile_1"
                       value="{{ tenant.mobile_1 }}">
            </div>
            <div>
                <div class="edit-label">Mobile 2</div>
                <input class="edit-input" type="text" name="mobile_2"
                       value="{{ tenant.mobile_2 }}">
            </div>

            <div>
                <div class="edit-label">Opening Date</div>
                <input class="edit-input" type="date" name="opening_date"
                       value="{{ tenant.opening_date|date:'Y-m-d' }}">
            </div>
            <div>
                <div class="edit-label">Opening Unit</div>
                <input class="edit-input" type="number" name="opening_unit"
                       value="{{ tenant.opening_unit }}">
            </div>

            <div>
                <div class="edit-label">Advance (â‚¹)</div>
                <input class="edit-input" type="number" step="0.01" name="advance"
                       value="{{ tenant.advance }}">
            </div>
        </div>

        <div style="margin-top:16px;">
            <div class="edit-label">Address</div>
            <textarea class="edit-textarea" name="address" rows="2">{{ tenant.address }}</textarea>
        </div>

        <div class="edit-photo-wrap">
            <div class="edit-avatar">
                {% if tenant.photo %}
                    <img src="{{ tenant.photo.url }}" alt="{{ tenant.name }}">
                {% else %}
                    <img src="{% static 'icons/tenant-default.png' %}" alt="Tenant">
                {% endif %}
            </div>
            <div>
                <div class="edit-label" style="margin-bottom:4px;">Profile Photo</div>
                <input type="file" name="photo" accept="image/*">
                <div style="font-size:0.78rem;color:#9ca3af;margin-top:4px;">
                    Leave empty to keep existing photo.
                </div>
            </div>
        </div>

        <div style="margin-top:22px;display:flex;gap:10px;">
            <button type="submit" class="btn"
                    style="padding:8px 26px;border-radius:999px;">
                Save Changes
            </button>
            <a href="{% url 'owner_tenant_detail' tenant.id %}" class="btn"
               style="background:#e5e7eb;color:#111827;padding:8px 20px;
                      border-radius:999px;">
                Cancel
            </a>
        </div>
    </form>
</div>

{% endblock %}
